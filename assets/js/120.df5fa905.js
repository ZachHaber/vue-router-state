(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{543:function(t,s,a){"use strict";a.r(s);var r=a(17),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"программная-навигация"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#программная-навигация"}},[t._v("#")]),t._v(" Программная навигация")]),t._v(" "),s("p",[t._v("Помимо декларативного использования "),s("code",[t._v("<router-link>")]),t._v(" для создания ссылок в шаблоне, можно использовать маршрутизатор и программно вызывать методы его экземпляра.")]),t._v(" "),s("h2",{attrs:{id:"router-push-location-oncomplete-onabort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-push-location-oncomplete-onabort"}},[t._v("#")]),t._v(" "),s("code",[t._v("router.push(location, onComplete?, onAbort?)")])]),t._v(" "),s("p",[s("strong",[t._v("Примечание: Внутри экземпляра Vue у вас есть доступ к экземпляру маршрутизатора через "),s("code",[t._v("$router")]),t._v(". Поэтому вы можете вызвать "),s("code",[t._v("this.$router.push")]),t._v(".")])]),t._v(" "),s("p",[t._v("Для перехода к новому URL, используйте "),s("code",[t._v("router.push")]),t._v('. Этот метод добавляет новую запись в историю навигации, что позволяет клику пользователя по кнопке "назад" в браузере сработать привычным образом.')]),t._v(" "),s("p",[t._v("При клике на "),s("code",[t._v("<router-link>")]),t._v(" этот метод вызывается автоматически. Клик по "),s("code",[t._v('<router-link :to="...">')]),t._v(" эквивалентен программному вызову "),s("code",[t._v("router.push(...)")]),t._v(".")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Декларативная запись")]),t._v(" "),s("th",[t._v("Программная запись")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v('<router-link :to="...">')])]),t._v(" "),s("td",[s("code",[t._v("router.push(...)")])])])])]),t._v(" "),s("p",[t._v("В качестве аргумента можно передать строку или объект, описывающий маршрут. Например:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// строка")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// объект")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// именованный маршрут")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("userId")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// со строкой запроса, получится /register?plan=private")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'register'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plan")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'private'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("Примечание")]),t._v(": "),s("code",[t._v("params")]),t._v(" игнорируются, если указан "),s("code",[t._v("path")]),t._v(", что не является случаем с "),s("code",[t._v("query")]),t._v(" приведённым в примере выше. Вместо этого, вам нужно указать "),s("code",[t._v("name")]),t._v(" маршрута или вручную указать весь "),s("code",[t._v("path")]),t._v(" с необходимыми параметрами:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" userId "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123'")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> /user/123")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("/user/")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("userId"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> /user/123")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Это НЕ БУДЕТ работать")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("params")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" userId "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> /user")]),t._v("\n")])])]),s("p",[t._v("Такие же правила применяются и к входному параметру "),s("code",[t._v("to")]),t._v(" компонента "),s("code",[t._v("router-link")]),t._v(".")]),t._v(" "),s("p",[t._v("С версии 2.2.0+ можно опционально указать коллбэки "),s("code",[t._v("onComplete")]),t._v(" и "),s("code",[t._v("onAbort")]),t._v(" в "),s("code",[t._v("router.push")]),t._v(" или "),s("code",[t._v("router.replace")]),t._v(" в качестве 2-го и 3-го аргументов. Эти коллбэки будут вызываться когда навигация либо успешно завершена (после того как все асинхронные хуки будут завершены), или прервана (переходом на этот же маршрут, или на другой маршрут прежде чем текущая навигация будет завершена), соответственно.")]),t._v(" "),s("p",[t._v("С версии 3.1.0+ можно опустить 2-й и 3-й аргументы, в таком случае "),s("code",[t._v("router.push")]),t._v("/"),s("code",[t._v("router.replace")]),t._v(" будут возвращать Promise, если они поддерживаются окружением.")]),t._v(" "),s("p",[s("strong",[t._v("Примечание:")]),t._v(" если путь назначения совпадает с текущим маршрутом и меняются только параметры (например, переход из одного профиля в другой "),s("code",[t._v("/users/1")]),t._v(" -> "),s("code",[t._v("/users/2")]),t._v("), вам потребуется использовать "),s("RouterLink",{attrs:{to:"/ru/guide/essentials/dynamic-matching.html#отсnеживание-изменений-параметров"}},[s("code",[t._v("beforeRouteUpdate")])]),t._v(" для отслеживания изменений (например, загрузки информации о пользователе).")],1),t._v(" "),s("h2",{attrs:{id:"router-replace-location-oncomplete-onabort"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-replace-location-oncomplete-onabort"}},[t._v("#")]),t._v(" "),s("code",[t._v("router.replace(location, onComplete?, onAbort?)")])]),t._v(" "),s("p",[t._v("Действует как "),s("code",[t._v("router.push")]),t._v(", с той лишь разницей, что переход осуществляется без добавления новой записи в историю навигации, а заменяет текущую запись в нём.")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Декларативная запись")]),t._v(" "),s("th",[t._v("Программная запись")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v('<router-link :to="..." replace>')])]),t._v(" "),s("td",[s("code",[t._v("router.replace(...)")])])])])]),t._v(" "),s("h2",{attrs:{id:"router-go-n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router-go-n"}},[t._v("#")]),t._v(" "),s("code",[t._v("router.go(n)")])]),t._v(" "),s("p",[t._v("Этот метод принимает параметром целое число, которое указывает на сколько шагов необходимо перейти по истории навигации, аналогично "),s("code",[t._v("window.history.go(n)")]),t._v(".")]),t._v(" "),s("p",[t._v("Примеры:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// перейти на одну запись вперёд, эквивалентно history.forward()")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// перейти на одну запись назад, эквивалентно history.back()")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// перейти на 3 записи вперёд")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// если записей в истории недостаточно много, переход просто не произойдёт")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nrouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"манипулирование-историеи-переходов"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#манипулирование-историеи-переходов"}},[t._v("#")]),t._v(" Манипулирование историей переходов")]),t._v(" "),s("p",[t._v("Вы могли заметить, что "),s("code",[t._v("router.push")]),t._v(", "),s("code",[t._v("router.replace")]),t._v(" и "),s("code",[t._v("router.go")]),t._v(" соответствуют "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/History",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("window.history.pushState")]),t._v(", "),s("code",[t._v("window.history.replaceState")]),t._v(" и "),s("code",[t._v("window.history.go")]),s("OutboundLink")],1),t._v(", имитируя таким образом API "),s("code",[t._v("window.history")]),t._v(".")]),t._v(" "),s("p",[t._v("По этой причине, если вы уже знакомы с "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/History_API",target:"_blank",rel:"noopener noreferrer"}},[t._v("API истории переходов браузера"),s("OutboundLink")],1),t._v(", то и со Vue router неожиданностей не возникнет.")]),t._v(" "),s("p",[t._v("Стоит отметить, что методы навигации Vue router'а ("),s("code",[t._v("push")]),t._v(", "),s("code",[t._v("replace")]),t._v(", "),s("code",[t._v("go")]),t._v(") работают одинаково во всех режимах ("),s("code",[t._v("history")]),t._v(", "),s("code",[t._v("hash")]),t._v(" и "),s("code",[t._v("abstract")]),t._v(").")])])}),[],!1,null,null,null);s.default=e.exports}}]);